<h1>AWS EC2 인스턴스 성능 리포트</h1>

### 📝 개요 및 목적
#### 개요
- **목적**

  AWS에서 제공하는 다양한 EC2 인스턴스 유형(t3, t4g) 및 다른 운영 체제 버전(Ubuntu 24 vs Ubuntu 22) 간의 성능을 비교하여 적합한 인스턴스 생성을 찾기 위함
  
- **테스트 방법**: Python의 멀티스레딩을 이용한 CPU 및 메모리 부하 테스트와 파일 시스템 쓰기 테스트를 포함하는 통합 테스트 스크립트 실행
  
- **측정 지표**: 실행 시간, CPU 사용률, 메모리 사용량, 디스크 쓰기 속도
  
#### 부하 테스트의 종류 및 방법법
1. **CPU 및 메모리 부하 테스트**

   
    - **멀티스레딩 활용**
    
      각 스레드에서 높은 계산 요구를 가지는 작업을 동시에 실행하여 CPU와 메모리의 한계를 테스트
      
    - **실험의 구성**

      10개의 스레드를 생성하여 각 스레드가 독립적으로 계산을 수행하며, 이를 통해 CPU의 동시 처리 능력과 메모리 할당 속도를 측정
      
2. **디스크 쓰기 속도 테스트**

   
    - **대용량 파일 쓰기**

      `write_large_file` 함수를 통해 100MB의 데이터를 파일에 쓰고, `os.sync()`를 호출하여 디스크에 즉각적으로 반영
      
    - **효과**

      파일 쓰기와 즉시 강제 플러시를 통해 디스크의 I/O 성능 정확하게 측정 및 다른 인스턴스 타입과 운영 체제에서의 I/O 성능 차이 비교
_____________________________________________________________________________________________
<h3>✔️ 1. t3, t4g 성능 확인 및 비교</h3>

공통 스펙
- Ubuntu 24

**❗t3**

아키텍쳐: x86

| 　                       	| t3.micro 	| t3.small 	| t3.medium 	| t3.large 	| t3.xlarge 	|
|--------------------------	|----------	|----------	|-----------	|----------	|-----------	|
| 실행시간(sec)            	| 0.11     	| 0.11     	| 0.11      	| 0.09     	| 0.1       	|
| CPU 사용률(%)            	| 0.5      	| 0        	| 0.2       	| 7.64     	| 2.9       	|
| 메모리 사용량(MB)        	| 15.68    	| 26.88    	| 8.49     	| 49       	| 86.69     	|
| 디스크 쓰기   속도(MB/s) 	| 96.04    	| 95.46    	| 95.45     	| 110.51   	| 99        	|

![t3](https://github.com/user-attachments/assets/972c4b78-0659-4137-bb8e-32fe7d4c6c5f)


- CPU 사용률: t3.large에서 가장 높은 CPU 사용률을 보였으며, t3.micro와 t3.small에서는 상대적으로 낮은 CPU 사용률을 기록

- 메모리 사용량: 예상된 메모리 사용량을 보임

- 디스크 쓰기 속도: 대부분의 인스턴스에서 비슷한 속도를 기록하였으나, t3.large에서 가장 높은 속도를 보임

**❗t4g**

아키텍쳐: Arm

| 　                       	| t4g.small 	| t4g.medium 	| t4g.large 	| t4g.xlarge 	| t4g.2xlarge 	|
|--------------------------	|-----------	|------------	|-----------	|------------	|-------------	|
| 실행시간(sec)            	| 0.11      	| 0.11       	| 0.11      	| 0.11       	| 0.11        	|
| CPU 사용률(%)            	| 0.3       	| 4.32       	| 8.88      	| 4.02       	| 0.02        	|
| 메모리 사용량(MB)        	| 22.03     	| 74.6       	| 16.79    	| 4.91      	| 73.42       	|
| 디스크 쓰기   속도(MB/s) 	| 95.46     	| 95.83      	| 152.7     	| 152.75     	| 95.47       	|


![2](https://github.com/user-attachments/assets/df6ff257-bbce-4ef9-a829-5016638d0515)

- CPU 사용률: t4g.large에서 가장 높은 CPU 사용률을 보였으며, t4g.2xlarge와 t4g.small에서는 상대적으로 낮은 CPU 사용률을 기록
  
- 메모리 사용량: 메모리 사용량은 t4g.large에서 가장 높았음
  
- 디스크 쓰기 속도: t4g.large와 t4g.xlarge에서 상대적으로 높은 속도를 기록

**🆚 비교 with t3.large & t4g.large**

![t3 t4](https://github.com/user-attachments/assets/b9419a9e-16c6-42c0-843b-af1699fb090e)


- CPU 사용률: t4g.large의 CPU 사용률이 더 높아, t4g.large가 작업을 수행하는 데 더 많은 CPU 자원을 소모
- 
- 메모리 사용량: t3.large의 메모리 사용량은 양호하지만, 정확한 비교를 위해 메모리 사용량 측면에서 추가적인 데이터 검토 필요.
  
- 디스크 쓰기 속도: t4g.large는 더 높은 디스크 쓰기 속도를 기록하여 디스크 I/O 작업에서 더 적합함

_____________________________________________________________________________________________

<h3>✔️ 2. Ubuntu 24 vs Ubuntu 22 성능 비교</h3>

공통 스펙
- t4g 인스턴스
- Arm 아키텍쳐

**❗Ubuntu 22**

|                          	| t4g.small 	| t4g.medium 	| t4g.large 	| t4g.xlarge 	| t4g.2xlarge 	|
|--------------------------	|-----------	|------------	|-----------	|------------	|-------------	|
| 실행시간(sec)            	| 0.11      	| 0.11       	| 0.11      	| 0.11       	| 0.11        	|
| CPU 사용률(%)            	| 2.98      	| 8.56       	| 8.1       	| 3.52       	| 2.32        	|
| 메모리 사용량(MB)        	| 113.4     	| 0.26      	| 9.23      	| 1.69       	| 0.49       	|
| 디스크 쓰기   속도(MB/s) 	| 95.44     	| 152.75     	| 133.08    	| 116.44     	| 152.7       	|


![3](https://github.com/user-attachments/assets/b8751053-9384-42fa-b10b-f8413c4078d5)



**🆚 비교 with ver24 & ver22**

![ubuntu](https://github.com/user-attachments/assets/8290a0d3-e1cf-47f6-bb2c-54bd25e56cf5)

- CPU 사용률: Ubuntu 24에서 CPU 사용률이 더 높은 경향이 있으며, 이는 최신 버전의 운영 체제가 더 많은 자원을 필요로 할 수 있음을 제시
  
- 메모리 사용량: Ubuntu 24에서 메모리 사용량이 높게 나타났으며, 이는 최신 버전의 운영 체제가 메모리 관리를 달리 할 수 있음을 의미
  
- 디스크 쓰기 속도: Ubuntu 24와 Ubuntu 22 간에 큰 차이는 없으나, 특정 인스턴스에서 다소의 차이를 보임

_____________________________________________________________________________________________

<h3>💡 결론</h3>

- 인스턴스 선택 부분

CPU 집약적인 작업: t4g.large는 더 높은 CPU 사용률과 디스크 쓰기 속도를 제공하므로, CPU 집약적인 작업이나 디스크 I/O 성능이 중요한 환경에 적합

일반적인 작업: t3.large는 상대적으로 낮은 CPU 사용률과 빠른 실행 시간으로, 일반적인 작업 처리에 적합


- 운영 체제 업그레이드

최신 버전의 운영 체제인 Ubuntu 24는 더 많은 자원을 요구하지만, 최신 보안 패치와 기능을 제공하므로 보안과 기능적 요구 사항이 중요하다면 업그레이드를 고려

안정성과 자원 소모가 더 적은 Ubuntu 22를 사용하고 있다면, 현재의 요구 사항에 맞춰 계속 사용 하는 것이 좋음

