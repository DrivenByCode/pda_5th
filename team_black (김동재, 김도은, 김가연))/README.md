<h1>AWS EC2 인스턴스 성능 리포트</h1>
### 개요 및 목적
#### 개요:
- **목적**
  AWS에서 제공하는 다양한 EC2 인스턴스 유형(t3, t4g) 및 다른 운영 체제 버전(Ubuntu 24 vs Ubuntu 22) 간의 성능을 비교하여 적합한 인스턴스 생성을 찾기 위함
- **테스트 방법**: Python의 멀티스레딩을 이용한 CPU 및 메모리 부하 테스트와 파일 시스템 쓰기 테스트를 포함하는 통합 테스트 스크립트 실행
- **측정 지표**: 실행 시간, CPU 사용률, 메모리 사용량, 디스크 쓰기 속도
#### 부하 테스트의 종류 및 방법:
1. **CPU 및 메모리 부하 테스트**
    - **멀티스레딩 활용**
      각 스레드에서 높은 계산 요구를 가지는 작업을 동시에 실행하여 CPU와 메모리의 한계를 테스트
    - **실험의 구성**
      10개의 스레드를 생성하여 각 스레드가 독립적으로 계산을 수행하며, 이를 통해 CPU의 동시 처리 능력과 메모리 할당 속도를 측정
2. **디스크 쓰기 속도 테스트**
    - **대용량 파일 쓰기**
      `write_large_file` 함수를 통해 100MB의 데이터를 파일에 쓰고, `os.sync()`를 호출하여 디스크에 즉각적으로 반영
    - **효과**
      파일 쓰기와 즉시 강제 플러시를 통해 디스크의 I/O 성능 정확하게 측정 및 다른 인스턴스 타입과 운영 체제에서의 I/O 성능 차이 비교
_____________________________________________________________________________________________
<h3>1. t3, t4g 성능 확인 및 비교</h3>
공통 스펙
- Ubuntu 24
**t3**
아키텍쳐: x86
| 　                       	| t3.micro 	| t3.small 	| t3.medium 	| t3.large 	| t3.xlarge 	|
|--------------------------	|----------	|----------	|-----------	|----------	|-----------	|
| 실행시간(sec)            	| 0.11     	| 0.11     	| 0.11      	| 0.09     	| 0.1       	|
| CPU 사용률(%)            	| 0.5      	| 0        	| 0.2       	| 7.64     	| 2.9       	|
| 메모리 사용량(MB)        	| 15.68    	| 26.88    	| -8.49     	| 49       	| 86.69     	|
| 디스크 쓰기   속도(MB/s) 	| 96.04    	| 95.46    	| 95.45     	| 110.51   	| 99        	|
![그림2](https://github.com/user-attachments/assets/0640ac2c-5390-46fe-80a0-226889a6917b)
- CPU 사용률: t3.large에서 가장 높은 CPU 사용률을 보였으며, t3.micro와 t3.small에서는 상대적으로 낮은 CPU 사용률을 기록
- 메모리 사용량: t3.medium에서 음수 메모리 사용량이 측정되었으나, 이는 데이터 수집 오류일 가능성이 있음. 나머지 인스턴스는 예상된 메모리 사용량을 보임
- 디스크 쓰기 속도: 대부분의 인스턴스에서 비슷한 속도를 기록하였으나, t3.large에서 가장 높은 속도를 보임
**t4g**
아키텍쳐: Arm
| 　                       	| t4g.small 	| t4g.medium 	| t4g.large 	| t4g.xlarge 	| t4g.2xlarge 	|
|--------------------------	|-----------	|------------	|-----------	|------------	|-------------	|
| 실행시간(sec)            	| 0.11      	| 0.11       	| 0.11      	| 0.11       	| 0.11        	|
| CPU 사용률(%)            	| 0.3       	| 4.32       	| 8.88      	| 4.02       	| 0.02        	|
| 메모리 사용량(MB)        	| 22.03     	| 74.6       	| -16.79    	| -4.91      	| 73.42       	|
| 디스크 쓰기   속도(MB/s) 	| 95.46     	| 95.83      	| 152.7     	| 152.75     	| 95.47       	|
![cw](https://github.com/user-attachments/assets/6ebb9119-0b9d-4ff5-aca8-c8ea51691633)
- CPU 사용률: t4g.large에서 가장 높은 CPU 사용률을 보였으며, t4g.2xlarge와 t4g.small에서는 상대적으로 낮은 CPU 사용률을 기록
- 메모리 사용량: 메모리 사용량은 t4g.large에서 가장 높았으며, t4g.medium과 t4g.xlarge에서는 음수 값을 기록한 경우도 존재재
- 디스크 쓰기 속도: t4g.large와 t4g.xlarge에서 상대적으로 높은 속도를 기록
**비교**
![비교](https://github.com/user-attachments/assets/3c75839d-1504-4c39-8d8a-963b7665bf68)
- CPU 사용률: t4g.large는 가장 높은 CPU 사용률을 기록하였으며, t3.large와 t4g.medium도 높은 사용률을 보임. 이는 CPU 집약적인 작업에서 t4g.large와 t3.large가 더 높은 성능을 발휘한다는 의미
- 메모리 사용량: t3.xlarge와 t4g.2xlarge는 높은 메모리 사용량을 기록했으나, 일부 인스턴스에서 음수 값을 기록하여 데이터의 신뢰성 문제 존재 확인
- 디스크 쓰기 속도: t4g.large와 t4g.xlarge는 가장 높은 디스크 쓰기 속도를 기록, 이는 이 인스턴스들이 디스크 I/O 집약적인 작업에 적합
_____________________________________________________________________________________________
<h3>2. Ubuntu 24 vs Ubuntu 22 성능 비교</h3>
공통 스펙
- t4g 인스턴스
- Arm 아키텍쳐
|                          	| t4g.small 	| t4g.medium 	| t4g.large 	| t4g.xlarge 	| t4g.2xlarge 	|
|--------------------------	|-----------	|------------	|-----------	|------------	|-------------	|
| 실행시간(sec)            	| 0.11      	| 0.11       	| 0.11      	| 0.11       	| 0.11        	|
| CPU 사용률(%)            	| 2.98      	| 8.56       	| 8.1       	| 3.52       	| 2.32        	|
| 메모리 사용량(MB)        	| 113.4     	| -0.26      	| 9.23      	| 1.69       	| -0.49       	|
| 디스크 쓰기   속도(MB/s) 	| 95.44     	| 152.75     	| 133.08    	| 116.44     	| 152.7       	|
![ubuntu22](https://github.com/user-attachments/assets/785bb7d2-2b4b-457e-8e72-b9543bf8fafb)
**비교**
![비교2](https://github.com/user-attachments/assets/22be1cea-3d17-413e-89d5-b10a1716604a)
- CPU 사용률: Ubuntu 24에서 CPU 사용률이 더 높은 경향이 있으며, 이는 최신 버전의 운영 체제가 더 많은 자원을 필요로 할 수 있음을 제시
- 메모리 사용량: Ubuntu 24에서 메모리 사용량이 높게 나타났으며, 이는 최신 버전의 운영 체제가 메모리 관리를 달리 할 수 있음을 의미
- 디스크 쓰기 속도: Ubuntu 24와 Ubuntu 22 간에 큰 차이는 없으나, 특정 인스턴스에서 다소의 차이를 보임
_____________________________________________________________________________________________

<h3>결론</h3>
t3와 t4g 인스턴스 간의 성능 차이를 비교할 때, t4g 인스턴스는 Arm 아키텍처의 장점을 발휘하며 더 나은 성능을 보였습니다.
Ubuntu 24와 Ubuntu 22 간의 성능 차이는 운영 체제의 업데이트에 따른 자원 요구의 차이를 나타내며, 최신 버전이 더 많은 리소스를 요구한다는 것을 알게 되었습니다.